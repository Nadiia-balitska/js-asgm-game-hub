(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function e(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(t){if(t.ep)return;t.ep=!0;const a=e(t);fetch(t.href,a)}})();(()=>{const r=document.querySelector(".js-menu-container"),n=document.querySelector(".js-open-menu"),e=document.querySelector(".js-close-menu"),o=document.querySelectorAll(".link"),t=()=>{const a=n.getAttribute("aria-expanded")==="true"||!1;n.setAttribute("aria-expanded",!a),r.classList.toggle("is-open")};n.addEventListener("click",t),e.addEventListener("click",t),o.forEach(a=>{a.addEventListener("click",t)}),window.matchMedia("(min-width: 425px)").addEventListener("change",a=>{a.matches&&(r.classList.remove("is-open"),n.setAttribute("aria-expanded",!1))})})();const b="https://api.noroff.dev/api/v1/gamehub",l=document.getElementById("product_list"),m=document.getElementById("genreFilter"),S=document.getElementById("loader");let u=[];S.classList.remove("hidden");async function M(){try{l.innerHTML="<p>Loading games...</p>",u=await(await fetch(b)).json(),y(u),S.classList.add("hidden")}catch{l.innerHTML="<p>Failed to load games ðŸ˜¢</p>"}}function y(r){if(l.innerHTML="",r.length===0){l.innerHTML="<p>No games found for this genre.</p>";return}r.forEach(n=>{const e=`
      <div class="game_card">
        <img src="${n.image}" alt="${n.title}" width="300px" class="game_img" />
        <h3 class="game_title">${n.title}</h3>
        <p class="game_price">${n.price} NOK</p>
        <a href="/details.html?id=${n.id}" class="details_button" >Details</a>
      </div>
    `;l.innerHTML+=e})}m&&m.addEventListener("change",()=>{const r=m.value;if(r==="all")y(u);else{const n=u.filter(e=>e.genre&&e.genre.toLowerCase()===r);y(n)}});M();const L="https://api.noroff.dev/api/v1/gamehub",p=document.querySelector(".swiper-wrapper");document.getElementById("loader");async function $(){try{const n=await(await fetch(L)).json(),o=(await Promise.all(n.map(async t=>await(await fetch(`${L}/${t.id}`)).json()))).slice(0,10);p.innerHTML="",o.forEach(t=>{const a=document.createElement("li");a.classList.add("swiper-slide"),a.innerHTML=`
        <a href="/details.html?id=${t.id}">
          <img class="swiper-img" src="${t.image}" alt="${t.title}" />
        </a>
      `,p.appendChild(a)}),new Swiper(".swiper-container",{loop:!0,autoplay:{delay:2e3},slidesPerView:2,navigation:{nextEl:".custom-next",prevEl:".custom-prev"},allowTouchMove:!0,pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{425:{slidesPerView:2},767:{slidesPerView:4},1024:{slidesPerView:6},1440:{slidesPerView:8}}})}catch{p.innerHTML="<li>Failed to load games ðŸ˜¢</li>"}}$();document.addEventListener("DOMContentLoaded",()=>{const r="https://api.noroff.dev/api/v1/gamehub",e=new URLSearchParams(window.location.search).get("id"),o=document.getElementById("add-to-cart"),t=document.getElementById("loader");if(!e){document.querySelector(".details").innerHTML="<p>Product not found.</p>";return}a(e),t.classList.remove("hidden");async function a(i){try{const s=await(await fetch(`${r}/${i}`)).json();document.getElementById("product-title").textContent=s.title,document.getElementById("product-price").textContent=`Price: ${s.price} NOK`,document.getElementById("product-description").textContent=s.description,document.getElementById("product-image").src=s.image,document.getElementById("product-image").alt=s.title,o&&o.addEventListener("click",()=>{c(s)}),t.classList.add("hidden")}catch{document.querySelector(".details").innerHTML="<p>Failed to load product details.</p>"}}function c(i){const d=JSON.parse(localStorage.getItem("cart"))||[];d.find(I=>I.id===String(i.id))?alert("ðŸ›’ Product is already in your cart."):(d.push({id:String(i.id),title:i.title,price:i.price,image:i.image,quantity:1}),localStorage.setItem("cart",JSON.stringify(d)),alert("âœ… Product added to cart!"))}});const g=document.querySelector(".cart_list"),v=document.querySelector(".total_price_cart"),O=document.querySelector(".subtotal"),q=document.querySelector("#subtotal_btn"),f=document.getElementById("loader");function h(){const r=JSON.parse(localStorage.getItem("cart"))||[];if(r.length===0){g.innerHTML='<p class="empty">Your cart is empty ðŸ›’</p>',v.textContent="Total price: 0 NOK",f.classList.add("hidden");return}g.innerHTML="";let n=0;r.forEach(e=>{const o=document.createElement("li");o.classList.add("cart_item"),f.classList.remove("hidden"),o.innerHTML=`
    <li class="cart_item">
     <img src="${e.image}" width="70" height="40" alt="${e.title}" class="cart_item_img" />
      <p class="item_name">${e.title}</p>
      <div class="amount_item">
  <button class="decrease" data-id="${e.id}">âˆ’</button>
  <span>${e.quantity}</span>
  <button class="increase" data-id="${e.id}">+</button>
      </div>
      <p class="price_cart">${e.price*e.quantity} NOK</p>
      <button class="remove_btn" data-id="${e.id}">ðŸ—‘</button>
    </li>
     
    `,f.classList.add("hidden"),g.appendChild(o),n+=e.price*e.quantity}),document.querySelectorAll(".increase").forEach(e=>{e.addEventListener("click",()=>{E(e.dataset.id,1)})}),document.querySelectorAll(".decrease").forEach(e=>{e.addEventListener("click",()=>{E(e.dataset.id,-1)})}),v.textContent=`Total price: ${n} NOK`,O.textContent=`${n} NOK`,q.textContent=`${n} NOK`,document.querySelectorAll(".remove_btn").forEach(e=>{e.addEventListener("click",o=>{const t=o.target.dataset.id;B(t)})})}function E(r,n){const e=JSON.parse(localStorage.getItem("cart"))||[],o=e.find(t=>t.id===r);if(o){if(o.quantity+=n,o.quantity<1){const t=e.filter(a=>a.id!==r);localStorage.setItem("cart",JSON.stringify(t))}else localStorage.setItem("cart",JSON.stringify(e));h()}}function B(r){let n=JSON.parse(localStorage.getItem("cart"))||[];n=n.filter(e=>e.id!==r),localStorage.setItem("cart",JSON.stringify(n)),h()}h();const w=document.getElementById("successModal"),_=document.getElementById("closeModalBtn"),N=document.querySelector(".card_checkout_btn");N.addEventListener("click",()=>{localStorage.removeItem("cart"),w.classList.remove("hidden")});_.addEventListener("click",()=>{w.classList.add("hidden"),window.location.href="index.html"});
//# sourceMappingURL=main-6364e57c.js.map
