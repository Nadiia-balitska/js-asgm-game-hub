(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(t){if(t.ep)return;t.ep=!0;const r=e(t);fetch(t.href,r)}})();(()=>{const a=document.querySelector(".js-menu-container"),n=document.querySelector(".js-open-menu"),e=document.querySelector(".js-close-menu"),i=document.querySelectorAll(".link"),t=()=>{const r=n.getAttribute("aria-expanded")==="true"||!1;n.setAttribute("aria-expanded",!r),a.classList.toggle("is-open")};n.addEventListener("click",t),e.addEventListener("click",t),i.forEach(r=>{r.addEventListener("click",t)}),window.matchMedia("(min-width: 425px)").addEventListener("change",r=>{r.matches&&(a.classList.remove("is-open"),n.setAttribute("aria-expanded",!1))})})();const w="https://api.noroff.dev/api/v1/gamehub",l=document.getElementById("product_list"),u=document.getElementById("genreFilter");let d=[];async function E(){try{l.innerHTML="<p>Loading games...</p>",d=await(await fetch(w)).json(),f(d)}catch{l.innerHTML="<p>Failed to load games ðŸ˜¢</p>"}}function f(a){if(l.innerHTML="",a.length===0){l.innerHTML="<p>No games found for this genre.</p>";return}a.forEach(n=>{const e=`
      <div class="game_card">
        <img src="${n.image}" alt="${n.title}" width="300px" class="game_img" />
        <h3 class="game_title">${n.title}</h3>
        <p class="game_price">${n.price} NOK</p>
        <a href="/details.html?id=${n.id}" class="details_button" >Details</a>
      </div>
    `;l.innerHTML+=e})}u&&u.addEventListener("change",()=>{const a=u.value;if(a==="all")f(d);else{const n=d.filter(e=>e.genre&&e.genre.toLowerCase()===a);f(n)}});E();const y="https://api.noroff.dev/api/v1/gamehub",p=document.querySelector(".swiper-wrapper");async function b(){try{const n=await(await fetch(y)).json(),i=(await Promise.all(n.map(async t=>await(await fetch(`${y}/${t.id}`)).json()))).slice(0,10);p.innerHTML="",i.forEach(t=>{const r=document.createElement("li");r.classList.add("swiper-slide"),r.innerHTML=`
        <a href="/details.html?id=${t.id}">
          <img class="swiper-img" src="${t.image}" alt="${t.title}" />
        </a>
      `,p.appendChild(r)}),new Swiper(".swiper-container",{loop:!0,autoplay:{delay:2e3},slidesPerView:2,navigation:{nextEl:".custom-next",prevEl:".custom-prev"},allowTouchMove:!0,pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{425:{slidesPerView:2},767:{slidesPerView:4},1024:{slidesPerView:6},1440:{slidesPerView:8}}})}catch{p.innerHTML="<li>Failed to load games ðŸ˜¢</li>"}}b();document.addEventListener("DOMContentLoaded",()=>{const a="https://api.noroff.dev/api/v1/gamehub",e=new URLSearchParams(window.location.search).get("id"),i=document.getElementById("add-to-cart");if(!e){document.querySelector(".details").innerHTML="<p>Product not found.</p>";return}t(e);async function t(o){try{const c=await(await fetch(`${a}/${o}`)).json();document.getElementById("product-title").textContent=c.title,document.getElementById("product-price").textContent=`Price: ${c.price} NOK`,document.getElementById("product-description").textContent=c.description,document.getElementById("product-image").src=c.image,document.getElementById("product-image").alt=c.title,i&&i.addEventListener("click",()=>{r(c)})}catch{document.querySelector(".details").innerHTML="<p>Failed to load product details.</p>"}}function r(o){const s=JSON.parse(localStorage.getItem("cart"))||[];s.find(v=>v.id===String(o.id))?alert("ðŸ›’ Product is already in your cart."):(s.push({id:String(o.id),title:o.title,price:o.price,image:o.image,quantity:1}),localStorage.setItem("cart",JSON.stringify(s)),alert("âœ… Product added to cart!"))}});const m=document.querySelector(".cart_list"),h=document.querySelector(".total_price_cart"),I=document.querySelector(".subtotal"),M=document.querySelector("#subtotal_btn");function g(){const a=JSON.parse(localStorage.getItem("cart"))||[];if(a.length===0){m.innerHTML='<p class="empty">Your cart is empty ðŸ›’</p>',h.textContent="Total price: 0 NOK";return}m.innerHTML="";let n=0;a.forEach(e=>{const i=document.createElement("li");i.classList.add("cart_item"),i.innerHTML=`
    <li class="cart_item">
     <img src="${e.image}" width="70" height="40" alt="${e.title}" class="cart_item_img" />
      <p class="item_name">${e.title}</p>
      <div class="amount_item">
  <button class="decrease" data-id="${e.id}">âˆ’</button>
  <span>${e.quantity}</span>
  <button class="increase" data-id="${e.id}">+</button>
      </div>
      <p class="price_cart">${e.price*e.quantity} NOK</p>
      <button class="remove_btn" data-id="${e.id}">ðŸ—‘</button>
    </li>
     
    `,m.appendChild(i),n+=e.price*e.quantity}),document.querySelectorAll(".increase").forEach(e=>{e.addEventListener("click",()=>{L(e.dataset.id,1)})}),document.querySelectorAll(".decrease").forEach(e=>{e.addEventListener("click",()=>{L(e.dataset.id,-1)})}),h.textContent=`Total price: ${n} NOK`,I.textContent=`${n} NOK`,M.textContent=`${n} NOK`,document.querySelectorAll(".remove_btn").forEach(e=>{e.addEventListener("click",i=>{const t=i.target.dataset.id;$(t)})})}function L(a,n){const e=JSON.parse(localStorage.getItem("cart"))||[],i=e.find(t=>t.id===a);if(i){if(i.quantity+=n,i.quantity<1){const t=e.filter(r=>r.id!==a);localStorage.setItem("cart",JSON.stringify(t))}else localStorage.setItem("cart",JSON.stringify(e));g()}}function $(a){let n=JSON.parse(localStorage.getItem("cart"))||[];n=n.filter(e=>e.id!==a),localStorage.setItem("cart",JSON.stringify(n)),g()}g();const S=document.getElementById("successModal"),O=document.getElementById("closeModalBtn"),q=document.querySelector(".card_checkout_btn");q.addEventListener("click",()=>{localStorage.removeItem("cart"),S.classList.remove("hidden")});O.addEventListener("click",()=>{S.classList.add("hidden"),window.location.href="index.html"});
//# sourceMappingURL=main-694460d7.js.map
